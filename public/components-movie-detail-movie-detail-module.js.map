{"version":3,"sources":["./src/app/components/movie-detail/movie-detail-routing.module.ts","./src/app/components/movie-detail/facades/movie-detail.facade.ts","./src/app/components/movie-detail/movie-detail.component.ts","./src/app/components/movie-detail/movie-detail.component.html","./src/app/components/movie-detail/movie-detail.module.ts"],"names":[],"mappings":"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","file":"components-movie-detail-movie-detail-module.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { MovieDetailComponent } from \"./movie-detail.component\";\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: MovieDetailComponent\r\n    }\r\n];\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class MovieDetailRoutingModule { }","import { Injectable } from \"@angular/core\";\r\nimport { MovieModel } from \"src/app/shared/models/movie.model\";\r\n\r\n@Injectable()\r\nexport class MovieDetailFacade {\r\n\r\n    constructor() { };\r\n\r\n    public selectMovieBySlug(slug: string, data: Array<MovieModel>): MovieModel {\r\n        let selectedMovie: MovieModel = {} as MovieModel;\r\n\r\n        if (data && data.length > 0) {\r\n            selectedMovie = data.filter((res: MovieModel) => res.slug === slug)[0];\r\n        }\r\n\r\n        return selectedMovie;\r\n    }\r\n\r\n\r\n}","import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { Select, Store } from \"@ngxs/store\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MovieModel } from \"src/app/shared/models/movie.model\";\r\nimport { SearchMovieList } from \"../movie-list/store/actions/movie-list.actions\";\r\nimport { MovieListState } from \"../movie-list/store/states/movie-list.state\";\r\nimport { MovieDetailFacade } from \"./facades/movie-detail.facade\";\r\n\r\n\r\n@Component({\r\n    selector: 'app-movie-detail',\r\n    templateUrl: './movie-detail.component.html',\r\n    styleUrls: ['./movie-detail.component.scss']\r\n})\r\nexport class MovieDetailComponent implements OnInit {\r\n\r\n    slug: string = '';\r\n\r\n    @Select(MovieListState.getMovieList)\r\n    movieList$: Observable<Array<MovieModel>> | undefined;\r\n\r\n    movieModel: MovieModel = {imdb_rating: 0} as MovieModel;\r\n    rate: number = 1;\r\n    isReadOnly: boolean = true;\r\n\r\n    constructor(public store: Store, private route: ActivatedRoute, private movieDetailFacade: MovieDetailFacade) {\r\n        this.slug = this.route.snapshot.params.slug;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.movieList$?.subscribe((res: Array<MovieModel>) => {\r\n\r\n            // handle search via api and cache result in store if user refreshes current page.\r\n            if(res?.length < 1) {\r\n                this.store.dispatch(new SearchMovieList(this.slug));\r\n            }\r\n            \r\n            this.movieModel = this.movieDetailFacade.selectMovieBySlug(this.slug, res);\r\n            \r\n        });\r\n    }\r\n\r\n}","<div class=\"container-fluid\">\r\n    <app-page-header></app-page-header>\r\n\r\n    <div style=\"margin-bottom: 20px\"> \r\n        <a [routerLink]=\"['/home']\"> Back to Movies</a>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-5 align-poster\">\r\n            <img class=\"img-thumbnail\" src=\"{{movieModel?.poster}}\" alt=\"{{movieModel?.title}}\">\r\n        </div>\r\n        <div class=\"card-box col-5\">\r\n            <div class=\"title-ext movie-details\">{{movieModel?.title}}</div>\r\n            <div class=\"movie-details\">{{movieModel?.released_on | date }} | {{ movieModel?.length}} | {{ movieModel?.director}}\r\n            </div>\r\n            <div class=\"movie-details\">\r\n                {{movieModel?.cast}}\r\n            </div>\r\n            <div class=\"movie-details\">\r\n                {{movieModel?.overview}}\r\n            </div>\r\n        </div>\r\n        <div class=\"card-box col-2\">\r\n            <ngb-rating [rate]=\"movieModel.imdb_rating\" [readonly]=\"isReadOnly\"></ngb-rating>\r\n        </div>\r\n    </div>\r\n\r\n</div>","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { FontAwesomeModule } from \"@fortawesome/angular-fontawesome\";\r\nimport { SharedModule } from \"src/app/shared/shared.module\";\r\nimport { MovieDetailFacade } from \"./facades/movie-detail.facade\";\r\nimport { MovieDetailRoutingModule } from \"./movie-detail-routing.module\";\r\nimport { MovieDetailComponent } from \"./movie-detail.component\";\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        MovieDetailComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        SharedModule,\r\n        FontAwesomeModule,\r\n        MovieDetailRoutingModule,\r\n        NgbModule\r\n    ],\r\n    providers: [MovieDetailFacade]\r\n})\r\nexport class MovieDetailModule { }"],"sourceRoot":"webpack:///"}